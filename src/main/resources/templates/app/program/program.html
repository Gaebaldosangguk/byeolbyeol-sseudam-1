<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>별별쓰담 | 쓰담학교</title>
    <link rel="stylesheet" href="/css/fix/font.css">
    <link rel="stylesheet" href="/css/program/program.css">
    <link rel="stylesheet" href="/css/fix/header68.css">
    <link rel="stylesheet" href="/css/fix/header74.css">
    <link rel="stylesheet" href="/css/fix/header51.css">
    <link rel="stylesheet" href="/css/fix/header76.css">
    <link rel="stylesheet" href="/css/fix/header77.css">
    <link rel="stylesheet" href="/css/fix/header37.css">
    <link rel="stylesheet" href="/css/fix/footer1.css">
    <link rel="stylesheet" href="/css/fix/footer2.css">
    <link rel="icon" href="/images/fix/favicon.png">
    <style>
        /*#noArticle1{*/
        /*    width: 24px; height: 24px; border-width: 0.25rem; border-style: solid; border-color: rgb(0, 199, 174) rgba(0, 199, 174, 0.2) rgba(0, 199, 174, 0.2); border-image: initial;*/
        /*}*/
        .noArticle2 {
            color: rgb(102, 102, 102);
            font-size: 14px;
            padding: 10px 0px;
            display: none;
        }

        .goHome {
            /* width: 5rem; */
            /* align-content: center; */
            /* align-items: center; */
            display: flex;
            align-items: center;
            /* align-content: center; */
            background: #f4f4f4;
            border: 0;
            border-radius: 8px;
            /* width: 100%; */
            height: 2.75rem;
            /* text-align: center; */
            /* margin: 0 auto; */
            margin-left: 3px;
            padding: 0px 13px;
            font-size: 15px;
        }
    </style>
</head>

<body>
<div>
    <th:block th:if="${session.member == null}">
        <header th:replace="/app/fix/header.html :: header"></header>
    </th:block>
    <th:block th:if="${session.member != null}">
        <header th:replace="/app/fix/headerLogin.html :: header"></header>
    </th:block>

    <!-- BEGIN : APP BODY -->
    <div id="app-body">
        <div class="instant-purchase-container">
            <main data-v-72c8052a="" data-testid="ip-product-list" class="ip-product-list">
                <div data-v-e0e63576="" data-v-193e7af6="" data-v-72c8052a="" class="observer-container">
                    <header data-v-193e7af6="" data-v-e0e63576="" data-observe="page-heading" class="page-heading"
                            id="page-heading">
                        <h1 data-v-193e7af6="" data-v-e0e63576="" class="page-title">프로그램</h1>
                    </header>
                    <!---->
                </div>

                <div data-v-e0e63576="" data-v-72c8052a="" class="observer-container">
                    <section data-v-78206d9f="" data-v-72c8052a="" class="market-keyword-search-form"
                             data-v-e0e63576="">

                        <div data-v-78206d9f="" class="search-area">
                            <div data-v-78206d9f="" class="input-wrap">

                                <!---->
                                <div data-v-78206d9f="" role="group" class="input-group">
                                    <!---->
                                    <div data-v-78206d9f="" class="input-group-prepend">
                                        <img data-v-78206d9f=""
                                             src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMSkiIHN0cm9rZT0iI0M1QzVDNSIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGNpcmNsZSBjeD0iNi42MTEiIGN5PSI2LjYxMSIgcj0iNS44NjEiLz4KICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Im0xNS4yNSAxNS4yNS00LjI0My00LjI0MyIvPgogICAgPC9nPgo8L3N2Zz4K"
                                             alt="검색" class="search-icon">
                                    </div>

                                    <form onsubmit="return false">
                                        <!--                                        <input type="text" style="display:none">-->
                                        <!-- 검색 입력 input -->
                                        <!--onkeyup="if(window.event.keyCode===13){searchKeyword(this.value)}"  onkeydown="javascript:if(event.keyCode==13)searchList(this.form);"-->
                                        <input name="enter" autocomplete='off' value=""
                                               onkeydown="javascript:if(event.keyCode==13)searchList(this.form);"


                                               data-v-78206d9f="" type="text" placeholder="원하는 프로그램을 검색해보세요"
                                               class="pro-form-control" maxlength="20" id="__BVID__183">
                                    </form>
                                    <div data-v-78206d9f="" class="input-group-append" style="display: none;">
                                        <button style="padding: 0; padding-right: 6px;"
                                                data-v-78206d9f="" type="button" class="btn btn-keyword-del"><img
                                                data-v-78206d9f=""
                                                src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMgMykiPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiNDNUM1QzUiIGN4PSI5IiBjeT0iOSIgcj0iOSIvPgogICAgICAgICAgICA8cGF0aCBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Im02IDYgNi4wMDUgNi4wMDZNMTIuMDA1IDYgNiAxMi4wMDYiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="
                                                alt="키워드 삭제"></button>
                                    </div>
                                    <!---->
                                </div>
                                <!--                                <div>-->
                                <!--                                    <button data-v-3a2c0d3c="" type="button" class="btn pro-signup-btn right-section-item btn-primary">-->
                                <!--                                        <a data-v-3a2c0d3c="" class="">전체목록</a></button>-->
                                <!--                                </div>-->
                                <div class="goHome" onclick="goHome()" style="cursor: pointer;">
                                    <img src="/images/program/returngray.png" style="width: 1.2rem">
                                </div>
                            </div>


                            <!-- BEGIN : 추천 서비스 -->
                            <div data-v-78206d9f="" class="keyword-box">
                                <ul data-v-78206d9f="">
                                    <li data-v-78206d9f="" class="title" onclick="selectKeyword(this)">추천 서비스</li>
                                    <li data-v-78206d9f="" class="sub" onclick="selectKeyword(this)">친환경</li>
                                    <li data-v-78206d9f="" class="sub" onclick="selectKeyword(this)">아이와 함께하는</li>
                                    <li data-v-78206d9f="" class="sub" onclick="selectKeyword(this)">ZERO WASTE</li>
                                    <li data-v-78206d9f="" class="sub" onclick="selectKeyword(this)">쓰담수거</li>
                                    <li data-v-78206d9f="" class="sub" onclick="selectKeyword(this)">쓰담 SPECIAL</li>
                                </ul>
                            </div>
                            <!-- END : 추천 서비스 -->
                        </div>
                    </section>
                    <!---->
                </div>

                <section data-v-e052d09c="" data-v-72c8052a="" class="filter-group">
                    <ul data-v-e052d09c="" class="tab">
                        <li data-v-e052d09c=""><a data-v-e052d09c="" href="javascript:;"
                                                  class="btn router-link-exact-active btn-link programAllList"
                                                  target="_self" onclick="programAllList()">전체</a></li>
                        <li data-v-e052d09c="" id="group-1" data-testid="group-filter"><a data-v-e052d09c=""
                                                                                          href="javascript:;"
                                                                                          class="btn btn-link router-link-active programStatus"
                                                                                          target="_self">모집중</a></li>
                        <li data-v-e052d09c="" id="group-2" data-testid="group-filter"><a data-v-e052d09c=""
                                                                                          href="javascript:;"
                                                                                          class="btn btn-link programStatus"
                                                                                          target="_self">모집완료</a></li>
                        <li data-v-e052d09c="" id="group-3" data-testid="group-filter"><a data-v-e052d09c=""
                                                                                          href="javascript:;"
                                                                                          class="btn btn-link programStatus"
                                                                                          target="_self">모집예정</a></li>
                        <li data-v-e052d09c="" id="group-7" data-testid="group-filter"><a data-v-e052d09c=""
                                                                                          href="javascript:;"
                                                                                          class="btn btn-link programStatus"
                                                                                          target="_self">마감</a></li>
                    </ul>
                </section>

                <section data-v-72c8052a="" class="page-content">
                    <div data-v-72c8052a="" class="flex-container">
                        <div data-v-72c8052a="" class="flex-side-right">
                            <div data-v-18e85706="" data-v-72c8052a="">
                                <!-- BEGIN : 프로그램 개수 -->
                                <section data-v-219a3136="" data-v-18e85706="">
                                    <div data-v-219a3136="" class="product-total-count" id="totalCountPlace">
                                        <!--                                        <strong data-v-219a3136="">12</strong>-->
                                        <!--                                        <span data-v-219a3136="">개 서비스</span>-->
                                        <!-- 몇 개의 서비스 -->
                                        <!-- 몇 개의 서비스 -->
                                        <!-- 몇 개의 서비스 -->

                                    </div>
                                </section>
                                <!-- END : 프로그램 개수 -->

                                <!-- BEGIN : 프로그램 article 감싸는 DIV -->
                                <div data-v-18e85706="" class="product-list responsive" id="programListId">

                                    <!--  프로그램 데이터 들어가는 자리  -->
                                    <!--  프로그램 데이터 들어가는 자리  -->
                                    <!--  프로그램 데이터 들어가는 자리  -->

                                </div>
                                <!-- END : 프로그램 article 감싸는 DIV -->

                                <!-- BEGIN : 프로그램 없는 경우 나오는 DIV -->
                                <div data-v-644ea9c9="" data-v-72c8052a="" class="infinite-loading-container"
                                     id="noArticleProgram">

                                    <div data-v-644ea9c9="" class="infinite-status-prompt" style="display: none;">
                                        <div>
                                            <div class="indicator-body center"></div>
                                            <p style="display: none;"></p>
                                        </div>
                                    </div>
                                    <div id="noArticle1">

                                        <!-- 돋보기 _ 프로그램 없는 경우 실행 되는 자리 -->
                                        <!-- 돋보기 _ 프로그램 없는 경우 실행 되는 자리 -->
                                        <!-- 돋보기 _ 프로그램 없는 경우 실행 되는 자리 -->

                                    </div>
                                </div>
                                <!-- END : 프로그램 없는 경우 나오는 DIV -->
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>
    <!-- END : APP BODY -->
</div>
<th:block th:if="${session.member != null}">
    <input type="hidden" th:value="${session.member.memberId}" name="memberId">
    <input type="hidden" th:value="${session.member.memberCategory}" name="memberCategory">
</th:block>
</body>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script>
    let memberId = $("input[name='memberId']").val();
    let memberCategory = $("input[name='memberCategory']").val();
</script>
<script src="/js/program/program.js"></script>
<script>
    let count;
    let $searchBar = $("input#__BVID__183"); // 검색창
    // let programStatus= $(".programStatus") || ""; // 프로그램 상태 (모집예정, 모집중, 모집완료, 마감)
    let programStatus; // 프로그램 상태 (모집예정, 모집중, 모집완료, 마감)
    let keyword = $searchBar.val() || "";// 검색어
    // globalThis.pageNumber = 0;
    let pageNumber = 0;
    let $url;

    /* 해당 컨트롤러로 보낼 url */
    function url() {
        if (keyword == "" && programStatus == undefined) {
            // 검색 X , 상태 선택 X
            $url = "/prod/dynamic" + "/" + pageNumber;
        } else if (keyword == "") {
            // 검색 X , 상태 선택 O
            $url = "/prod/dynamic" + "/" + pageNumber + "/" + "status" + "/" + programStatus;
        } else if (programStatus == undefined) {
            // 검색 O , 상태 선택 X
            $url = "/prod/dynamic" + "/" + pageNumber + "/" + keyword;
        } else {
            // 검색 O , 상태 선택 O
            $url = "/prod/dynamic" + "/" + pageNumber + "/" + keyword + "/" + programStatus;
        }
    }

    url();
    show();

    /* 원하는 programs로 programList를 실행하는 함수 */
    function show() {
        $.ajax({
            url: $url, // 상태별 url 입력
            type: "get",

            success: function (programs) {
                count = programs.totalElements;
                if (count) {
                    programCountNum(programs, count); // 프로그램 수 Count 함수
                    programList(programs);

                } else {
                    programCountNum(programs, count); // 프로그램 수 Count 함수
                    noProgramList(); // 해당 programs가 없을 경우 실행되는 함수 추가 필요 (돋보기)
                }
            }
        });
    }

    /* ================================== showStart_ Infinite Scroll ==================================*/

    /* show_스크롤을 할때 실행 */
    $(window).scroll(function () {

        let formData = new FormData();
        formData.append("page", pageNumber);
        formData.append("keyword", keyword);
        formData.append("programStatus", programStatus);

        if ($(window).scrollTop() >= $(document).height() - $(window).height()) {
            setTimeout(() => {
                pageNumber++;
                url();
                infiniteScroll(formData, show); //programList
            }, 400); // 0.4 초 delay ( 중복 불러오는 경우 방지 )
        }

    });

    /* 스크롤 작동시 실행될 함수 */
    function infiniteScroll(formData, callback, error) {
        $.ajax({
            url: $url,
            type: "get",
            data: {formData},
            enctype: 'multipart/form-data',
            catch: false,
            contentType: false,
            processData: false,
            success: function (programs, status, xhr) {
                if (callback) {
                    callback(programs);
                }
            },
            error: function (xhr, status, err) {
                if (error) {

                    error(err);
                }
            }
        });
    }

    /* ================================== /  showStart_ Infinite Scroll ==================================*/

    /* 해당 프로그램 개수에 따라 article을 반복해서 html에 넣어줄 함수 */
    function programList(programs) {
        let text = "";
        console.log("programList안에있는 programs");
        console.log(programs)

        Array.from(programs.content).forEach(program => {
            text += "<article data-v-85c61b32='' data-v-18e85706='' class='product-list-item responsive'>";
            text += "<input type='hidden' id='programId' href='" + program.programId + "'>"
            /* a태그 안에 link 수정 필요 */
            text += "<a data-v-85c61b32='' onclick='moveDetail(this)' data-testid='product-list-item' style='cursor: pointer;'>";
            text += "<div data-v-85c61b32='' class='item-image'>";
            text += "<article data-v-1a98b297='' data-v-85c61b32='' class='preview-image'>";
            text += "<div data-v-1a98b297='' class='image-wrap' style='padding-top: 66.6667%;'>";
            /* 해당 이미지 경로 */
            text += "<img data-v-1a98b297='' src='" + program.programFileProfileName + "'>";
            /*text += "<img data-v-1a98b297='' src='" + program.programFileProfilePath + "'>";*/
            text += "</div>";
            text += "</article>";
            text += "</div>";
            text += "<div data-v-85c61b32='' class='service-name'>";
            /* 프로그램 상태 : 모집예정 greenIcon , 모집중 blueIcon, 모집완료 redIcon, 마감 grayIcon / class 다르게 줘야함, 수정필요 */
            if (program.programStatus == '모집예정') {
                text += "<span data-v-85c61b32='' class='programStatusIcon greenIcon'>" + program.programStatus + "</span>";
            } else if (program.programStatus == '모집중') {
                text += "<span data-v-85c61b32='' class='programStatusIcon blueIcon'>" + program.programStatus + "</span>";
            } else if (program.programStatus == '모집완료') {
                text += "<span data-v-85c61b32='' class='programStatusIcon redIcon'>" + program.programStatus + "</span>";
            } else if (program.programStatus == '마감') {
                text += "<span data-v-85c61b32='' class='programStatusIcon grayIcon'>" + program.programStatus + "</span>";
            }
            text += "</div>";
            text += "<div data-v-85c61b32='' class='item-title'>";
            text += "<div data-v-a3afae98='' data-v-85c61b32='' class='collapsed'>";
            text += "<div data-v-a3afae98='' class='line-clamp'\n" +
                "            style='line-height: 1.5; max-height: 3rem; -webkit-line-clamp: 2;'>";
            /* 프로그램 TITLE 들어가는 자리 */
            text += "<h3 data-v-85c61b32='' data-v-a3afae98=''> " + program.programName + "</h3>";
            text += "</div>";
            text += "</div>";
            text += "</div>";
            text += "</a>";
            text += "</article>";

        });
        $("#programListId").append(text);// #programListId 밑에 반복 해서 text들을 넣어줌
        // $("#programListId").append(text); //무한스크롤때 쓰기....하지만 다른기능들이 안됨.....ㅠㅠㅠㅠㅠ
        $("#noArticle1").html("");// 프로그램이 없는 경우 ""로 div를 채워줌

    }

    /* 해당 프로그램이 없는 경우 보여줄 돋보기 함수 */
    function noProgramList() {
        let text = "";
        text += "<div class='infinite-status-prompt'>"
        text += "<article class='no-items align-self-center text-center no-items'>"
        text += "<i data-v-414f00e5=''><img src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCIgdmlld0JveD0iMCAwIDgwIDgwIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icHJlZml4X19hIiB4MT0iMCUiIHgyPSIxMDAlIiB5MT0iNTAlIiB5Mj0iNTAlIj4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwQzdBRSIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM0Q0M4RTUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMCAwSDM3NVY2NjdIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NCAtMTQ2KSIvPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NCAtMTQ2KSB0cmFuc2xhdGUoNDQgMTQ2KSI+CiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iNDAiIHI9IjQwIiBmaWxsPSJ1cmwoI3ByZWZpeF9fYSkiIGZpbGwtb3BhY2l0eT0iLjUiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMTYgNjRMNjQgNjQgNjQgMTYgMTYgMTZ6Ii8+CiAgICAgICAgICAgIDxwYXRoIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjMiIGQ9Ik00NS40ODYgMjguNTE1YzQuNjg1IDQuNjg3IDQuNjg1IDEyLjI4MyAwIDE2Ljk3LTQuNjg3IDQuNjg3LTEyLjI4NiA0LjY4Ny0xNi45NyAwLTQuNjg4LTQuNjg3LTQuNjg4LTEyLjI4MyAwLTE2Ljk3IDQuNjg0LTQuNjg3IDEyLjI4My00LjY4NyAxNi45NyAwek00NiA0Nmw5IDkiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=' alt='empty'></i>"
        text += "<h3 data-v-414f00e5=''></h3>"
        text += "<p data-v-414f00e5='' class='help-block p2'>"
        text += "<strong> 선택하신 조건으로 <br> 진행중인 프로그램이 없습니다. </strong><br> 다른 쓰담 프로그램을 탐색해보세요.</p>"
        text += "</article>"
        text += "</div>"
        text += "<div class='infinite-status-prompt noArticle2'>"
        text += "</div>"
        text += "<div data-v-644ea9c9='' class='infinite-status-prompt noArticle2'>"
        text += "<button class='btn-try-infinite'></button>"
        text += "</div>"
        $("#noArticle1").html(text); // #noArticleProgram 밑에 text들을 넣어줌
        $("#programListId").html(""); // 프로그램이 없는 경우 ""로 div를 채워줌
    }

    /* 프로그램 수 Count */
    function programCountNum(programs, count) {
        // programs 가 유사배열객체?
        // 12개가

        // let count = programs.pageable.totalPages;
        // let count = Array.prototype.slice.call(programs).length; //실패
        // let count = Array.from(programs.content).length; // 12개 이하의 count는 잘됨, 12개 이상의 content는 어떻게 count? 무한스크롤되는 경우 바닥찍으면 0이 됨.
        // 12개 이하의 count는 잘됨, 12개 이상의 content는 어떻게 count? 무한 스크롤되는 경우 바닥 찍으면 0이 됨.
        /*
        --------- 문제 해결 ---------
        문제점 : 전체 count를 DB에서부터 잘못 불러오고 있었음
        이전 : 처음에는 total에서 where절 자체가 없었음. 처음에 가져오는 where절에만 동적쿼리가 형성되어있었음.
        이후 : ProgramDynamicCustomRepositoryImpl 에 있는 total 에 where절 추가
        count 전역변수로 선언
        */

        let text = "";
        text += "<strong data-v-219a3136=''>" + count + "</strong>"
        text += "<span data-v-219a3136=''> 개 서비스 </span>"

        $("#totalCountPlace").html(text);
    }

    /* 프로그램 클릭시 programId를 이용하여 해당 program 선택 */
    function moveDetail(obj) {
        // alert($(obj).closest(".responsive").find('#programId').attr("href"));
        location.href = "/program/detail" + "?programId=" + $(obj).closest(".responsive").find('#programId').attr("href");
    }

    /* 프로그램 검색 기능 */
    function searchList(theForm) {
        if (theForm.enter.value == "") {
            alert("검색어를 입력하세요");
            return false;
        }
        pageNumber = 0;
        // programStatus = undefined;
        keyword = theForm.enter.value;
        reSet();
        url();
        show();
    }


    /* 프로그램 기본적으로 나오는 것 제거하는 기능 */
    function reSet() {
        let text = "";

        $("#programListId").html(text);

    }

    /* 프로그램 상태 클릭시 */
    $(".programStatus").on('click', function () {
        programStatus = $(this).text(); //programStatus class 의 누른 text로 실행
        pageNumber = 0;
        reSet() //기존 내용 없애기
        url(); // url 생성
        show(); // 리스트 보여주기
    });


    /* 돌아 가기 클릭시 _ 검색 결과로 작동되는 것을 다시 전체 리스트 확인으로 변경 */
    function goHome() {
        location.href = "/program/list"
    }

    /* 전체 클릭시 _ 프로그램 상태 구분 없이 모두 보여주기  */
    function programAllList() {
        programStatus = undefined;
        pageNumber = 0;
        reSet();
        url();
        show();
    }


</script>
<script src="/js/fix/headerLogin.js"></script>
<script src="/js/fix/header.js"></script>
<!-- Channel Plugin Scripts -->
<script>
    (function() {
        var w = window;
        if (w.ChannelIO) {
            return (window.console.error || window.console.log || function(){})('ChannelIO script included twice.');
        }
        var ch = function() {
            ch.c(arguments);
        };
        ch.q = [];
        ch.c = function(args) {
            ch.q.push(args);
        };
        w.ChannelIO = ch;
        function l() {
            if (w.ChannelIOInitialized) {
                return;
            }
            w.ChannelIOInitialized = true;
            var s = document.createElement('script');
            s.type = 'text/javascript';
            s.async = true;
            s.src = 'https://cdn.channel.io/plugin/ch-plugin-web.js';
            s.charset = 'UTF-8';
            var x = document.getElementsByTagName('script')[0];
            x.parentNode.insertBefore(s, x);
        }
        if (document.readyState === 'complete') {
            l();
        } else if (window.attachEvent) {
            window.attachEvent('onload', l);
        } else {
            window.addEventListener('DOMContentLoaded', l, false);
            window.addEventListener('load', l, false);
        }
    })();
    ChannelIO('boot', {
        "pluginKey": "9620d8f4-5a7a-4113-aa8d-0e440e89b936"
    });
</script>
<!-- End Channel Plugin -->
</html>